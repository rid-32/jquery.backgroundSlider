# Простой слайдер для изменения фоновых изображений в элементах HTML-страницы

## Описание
Слайдер изменяет фоновое изображение HTML-элемента вместе с цветом фона и другими параметрами как при клике на
указанные элементы, так и автоматически через заданный промежуток времени. Все эти параметры задаются в настройках при 
инициализации. Особенностью слайдера является то, что перед использованием в слайд-шоу все фоновые изображения загружаются
в кэш браузера, поэтому при смене слайдов не возникает задержки на загрузку очередного слайда.

## Начало работы
### Инициализация плагина
```javascript
$(document).ready(function(){
  $('#pageHeader').backgroundSlider({
    //Объект с настройками слайдера
  });
});
```
#pageHeader - это id элемента, в котором должна осуществляться работа слайдера. Вместо него ставится id или класс своего блока.
Методу backgroundSlider() должен быть обязательно передан объект с настройками слайдера.

Кроме того есть второй вариан вызова данного метода:
```javascript
$(document).ready(function(){
  $('#pageHeader').backgroundSlider( 'method', 'params', {
    //Объект с настройками слайдера
  });
});
```
Вместо 'method' указывается строка с именем вызываемого метода, а вместо 'params' -
параметры, передаваемые этому методу.
Например, можно отобразить отдельный слайд для настройки, указав метод 'setFrame' и 
передав ему номер слайда, начиная с 0.
```javascript
$(document).ready(function(){
  $('#pageHeader').backgroundSlider( 'setFrame', 1, {
    //Объект с настройками слайдера
  });
});
```
### Настройка работы слайдера
Все настройки слайдера передаются в объекте методу backgroundSlider(). Настройки по умолчанию:
```javascript
$.fn.backgroundSlider.defaults = {
    images: [ 'none' ],            //массив с адресами фоновых изображения, по умолчанию - background-image: none;
    bgColors: [ '#fff' ],          //массив с цветами фонов изображений, по умолчанию цветом фона для всех изображений явл-ся белый - #fff
    bgSize: [ 'auto, auto' ],      //массив с размерами для фоновых изображений, по умолчанию - background-size: auto, auto;
    bgRepeat: [ 'repeat' ],        //массив с опциями повторения фоновых изображений, по умолчанию - background-repeat: repeat;
    bgPosition: [ '0% 0%' ],       //массив с координатами фоновых изображений, по умолчанию - background-position: 0% 0%
    glassFilter: [ 'transparent' ],//массив с цветовыми фильтрами для фоновых изображений, по умолчанию - transparent. Чтобы включить, необходимо передать строку с цветом
    frame: 0,                      //номер кадра, с которого должен начать работу слайдер при загрузке страницы
    duration: 5000,                //время перед показом следующего слайда - частота слайд-шоу в миллисекундах
    autoRun: false,                //автоматический запуск слайдера, для запуска установить в true
    stickerClick: false,           //разрешение навигации по слайд-шоу при нажатии на соответствующий стикер, для разрешения установить в true
    frames: $.noop,                //количество слайдов, по умолчанию определяется по размеру массива с изображениями
    leftPtr: $.noop,               //id или класс DOM-элемента, являющегося левым переключателем для слайд-шоу
    rightPtr: $.noop,              //id или класс DOM-элемента, являющегося правым переключателем для слайд-шоу
    sticker: $.noop,               //id или класс списка ul, являющегося блоком со стикерами
    activeClass: $.noop,           //css-класс, определяющий вид активного стикера
    slideOther: {                  //объект с настройками для загрузки дополнительного контента в слайдер по AJAX 
      changeParent: $.noop,        //id или класс блока в основном документе, куда осуществляется вставка контента
      changeTarget: $.noop,        //класс блока для выборки из загружаемого по AJAX документа
      insertFrom: $.noop           //html-файл в директории с основным документом, откуда вставлять контент
    }
  };
```
Данный плагин является довольно гибким средством для создания слайдера. Фоновые изображения могут и не использоваться,
если необходимо, например менять только цвета фона или блоки с текстом.
Одним из основных параметров является количество слайдов frames. При указании этот параметр является главным при определении
общего числа кадров. Если этот параметр не указан, а указан массив с изображениями, то общее число слайдов берется по
размеру этого массива. Если не указано ни то, ни другое, то поведение слайдера неконтролируемое ( от минус до плюс бесконечности).
Если указан и массив изображений, и количество кадров frames, то приоритет у frames. Это значит, что слайдов может быть больше, чем
изображений.

В массиве images указываются адреса изображений. Локальные адреса отсчитываются от HTML-документа, для которого устанавливается слайдер. Индексы в массивах bgColor, bgSize, bgRepeat, bgPosition и glassFilter соответстуют индексам массива images и друг другу.

Если для второго слайда не нужно задавать, например, цвет фона, то указываем это так:
```javascript
  bgColor = [
    '#fff',
    ,
    'blue'
  ]
```
Особо нужно отметить параметр glassFilter. Он задает цветовой фон поверх фонового изображения. Лучше этот цвет делать полупрозрачным.
Получается эффект наложения фильтра.
```javascript
  glassFilter = [
    'rgba(24,255,15,0.49)'
  ]
```
Для автоматической прокрутки слайдов необходимо установить в true параметр autoRun.
Время между показами слайдов определяется параметром duration в миллисекундах. По умолчанию установлено 5000 миллисекунд (5 сек).

Для слайдера можно отдельно указать, нужно ли использовать для навигации кнопки "влево"/"вправо", а также стикеры для навигации и отображения текущего номера слайда. 

Для подключения кнопок нужно указать их id или класс в параметрах leftPtr и rightPtr:
```javascript
  leftPtr: '#leftPointer',
  rightPtr: '#rightPointer'
```
Стикером является обычный список:
```html
  <ul id="headerSticker">
    <li><a href="#"></a></li>
    <li><a href="#"></a></li>
    <li><a href="#"></a></li>
  </ul>
```
Для подключения такого стикера к слайдеру нужно указать id или класс стикера в параметре sticker:
```javascript
  sticker: '#headerSticker'
```
Кроме того в параметре activeClass обязательно нужно указать класс, который стилизует активный элемент стикера, иначе стикер не будет использоваться для отображения и навигации, например:
```javascript
  activeClass = '.active-sticker'
```
Для переключения слайдов по нажатию на отдельные элементы стикера нужно задать параметр:
```javascript
  stickerClick: true
```
Данный слайдер кроме прокрутки фоновых изображений позволяет прокручивать дополнительный контент - текст, изображения и т.д. Этот контент загружается из указанного в настройках HTML-файла посредством AJAX и вставляется в указанный блок документа. За эту функцию отвечает параметр slideOther, который является объектом с настройками.

Для указания HTML-файла, из которого загружается контент, используется параметр insertFrom объекта slideOther. Этот файл должен располагаться в той же директории, что и HTML-документ, для которого устанавливается слайдер.

Для указания класса блоков с данными для выборки из этого HTML-документа используется параметр changeTarget.

В параметре changeParent указывается блок в основном HTML-документе, куда должен быть вставлен выбранный блок с данными из указанного HTML-документа.

Например, настроим слайдер с тремя кадрами для прокрутки текста. В папке с файлом index.html расположен файл sliderContent.html  с содержимым:
```html
<html>
  <body>
    <div class="slider-title">
      <h1 class="slider-title">Block number one</h1>
      <h1 class="slider-title">Intoduction</h1>
    </div>
    <div class="slider-title">
      <h1 class="slider-title">Block number two</h1>
      <h1 class="slider-title">Main text</h1>
    </div>
    <div class="slider-title">
      <h1 class="slider-title">Block number three</h1>
      <h1 class="slider-title">Post scriptum</h1>
    </div>
  </body>
</html>
```
Блок с классом slider-title будет вставлен в блок #content основного документа. Объект slideOther будет выглядеть так:
```javascript
slideOther: {                  
  changeParent: '#content',        
  changeTarget: '.slider-title',        
  insertFrom: 'sliderContent.html'           
}
```
В первом слайде будет показан первый блок slider-title, во втором - второй и т.д.

Методу backgroundSlider() обязательно должны быть переданы или массив с изображениями images, или количество слайдов frames (или то и другое). Остальные настройки можно не указывать, т.к. слайдер будет установлен и без них.
